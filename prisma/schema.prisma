// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model FPLPlayer {
  player_id                         Int                @id @unique
  first_name                        String
  second_name                       String
  team                              Int
  web_name                          String
  team_code                         Int
  element_type                      Int
  total_points                      Int
  goals_scored                      Int
  assists                           Int
  expected_goals                    Float
  expected_assists                  Float
  expected_goal_involvements        Float
  expected_goals_per_90             Float
  expected_assists_per_90           Float
  expected_goal_involvements_per_90 Float
  minutes                           Int
  FPLGameweekPicks                  FPLGameweekPicks[]
}

model FPLGameweekPicks {
  id              String    @id @default(uuid())
  fpl_team_id     String
  gameweek        Int
  element         Int
  position        Int
  multiplier      Int
  is_captain      Boolean
  is_vice_captain Boolean
  // fpl team id is foreign key in FPL TEAM
  fpl_team        FPLTeam   @relation(fields: [fpl_team_id], references: [id])
  fpl_player      FPLPlayer @relation(fields: [element], references: [player_id])
}

model FPLTeam {
  id      String @id @default(uuid())
  name    String
  year    Int
  team_id Int

  FPLGameweekPick FPLGameweekPicks[]
}
